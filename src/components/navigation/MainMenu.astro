---

import i18n from '~/components/i18n/index.js';
import { getLanguageFromPath, SITE } from '~/config.js';
const locale = getLanguageFromPath(Astro.url);
const t = i18n[locale]

let url = Astro.url.pathname.substring(4)
let locales = SITE.locales
---

<ul class="flex flex-row items-center sm:pt-0 self-center w-auto mx-auto sm:text-sm md:text-base xl:text-lg whitespace-nowrap">
  <li><a href={`/${locale}/research/`} class="hover:text-stone-900 dark:hover:text-white px-2 md:px-4 py-1">{t?.research ?? 'Research'}</a></li>
  <li><a href={`/${locale}/volunteer`} class="hover:text-stone-900 dark:hover:text-white px-2 md:px-4 py-1">{t?.volunteer ?? 'Volunteer'}</a></li>
  <li><a href={`/${locale}/about`} class="hover:text-stone-900 dark:hover:text-white px-2 md:px-4 py-1">{t?.about ?? 'About'}</a></li>

    <li class="flex justify-center items-center">
      <details class="relative mx-1">
        <summary class="text-stone-500 dark:bg-stone-800 dark:text-stone-400 hover:bg-stone-100 dark:hover:bg-stone-700 focus:outline-none focus:ring-4 focus:ring-stone-200 dark:focus:ring-stone-700 rounded-lg text-sm py-2 px-2 inline-flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="h-5 w-5 dark:placeholder-stone-400" viewBox="0 0 20 20"><path d="M7.75 2.75a.75.75 0 0 0-1.5 0v1.26a32.99 32.99 0 0 0-3.6.28.75.75 0 1 0 .2 1.48 31.55 31.55 0 0 1 5.85-.22 19.38 19.38 0 0 1-1.7 4A19.42 19.42 0 0 1 6 7.5a.75.75 0 0 0-1.39.58 20.93 20.93 0 0 0 1.5 2.9 19.61 19.61 0 0 1-3.83 4.16.75.75 0 1 0 .94 1.16A21.12 21.12 0 0 0 7 12.34l.29.4a.75.75 0 0 0 1.2-.92c-.21-.26-.4-.54-.6-.81a20.89 20.89 0 0 0 2.34-5.33l.92.1a.75.75 0 0 0 .2-1.48 32.83 32.83 0 0 0-3.6-.3V2.75z"/><path fill-rule="evenodd" d="M13 8a.75.75 0 0 1 .67.41l4.25 8.5a.75.75 0 1 1-1.34.67l-.8-1.58h-5.57l-.79 1.58a.75.75 0 1 1-1.34-.66l4.25-8.5A.75.75 0 0 1 13 8zm2.04 6.5L13 10.43l-2.04 4.07h4.08z" clip-rule="evenodd"/></svg>
        </summary>
        <nav class="absolute w-28 right-0 rtl:right-auto rtl:-left-10 top-12 z-50 rounded-md bg-white drop-shadow-lg dark:bg-stone-800">
        {Object.keys(locales).map(iso => (
    			<a href={`/${iso}/${url}`} class="block cursor-pointer py-2 px-4 text-sm text-stone-700 hover:bg-stone-100 dark:bg-stone-800 dark:text-stone-200 dark:hover:bg-stone-700 hover:rounded-lg">{ locales[iso] }</a>
    		))}
        </nav>
      </details>
      <button
        id="dark-mode-toggle"
        type="button"
        class="text-stone-500 dark:text-stone-400 dark:bg-stone-800 hover:bg-stone-100 dark:hover:bg-stone-700 rounded-lg text-sm p-1.5 hidden sm:inline-flex items-center"
        aria-label="Toggle between Dark and Light mode"
        data-aw-toggle-color-scheme
      >
      Sun
    </button>
    </li>
</ul>
